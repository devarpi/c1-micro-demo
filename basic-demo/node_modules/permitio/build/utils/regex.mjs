// src/utils/regex.ts
function escapeRegex(s) {
  return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
}
function makeRegexGlobal(re) {
  if (re.global) {
    return re;
  }
  let flags = "g";
  flags += re.ignoreCase ? "i" : "";
  flags += re.multiline ? "m" : "";
  return new RegExp(re.source, flags);
}
function matchAll(re, str) {
  const matches = [];
  const regex = makeRegexGlobal(re);
  let groups;
  while ((groups = regex.exec(str)) !== null) {
    const found = Array.from(groups);
    const length = found[0].length;
    matches.push({
      start: groups.index,
      end: groups.index + length - 1,
      length,
      groups: found
    });
  }
  return matches;
}
export {
  escapeRegex,
  matchAll
};
//# sourceMappingURL=regex.mjs.map